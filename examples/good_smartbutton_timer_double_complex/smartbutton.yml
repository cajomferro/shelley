device:
  name: SmartButton
  components:
    b: PressedButton
    t: Timer
  events:
    single:
        next: $ANY
        start: True
        final: True
        micro: 
          - [b.in, t.start]
          - xor:
#              - [b.out, t.cancel, t.start, t.timeout] # ISTO N DÁ ERRO E DEVIA DAR PORQUE CANCEL N EXISTE!
              - [b.out, t.cancel]
              - [t.timeout, b.out]
          - [t.start, t.timeout]
    double:
        next: $ANY
        start: True
        final: True
        micro:
          - [b.in, t.start]
          - xor:
              - [b.out, t.cancel]
              - [t.timeout, b.out]
#         - [t.start, b.in, t.cancel, t.start] # ISTO N DÁ ERRO E DEVIA DAR E ALÉM DISSO É INFINITO!
          - [t.start, b.in, t.cancel, t.start]
          - xor:
              - [b.out, t.cancel]
              - [t.timeout, b.out]
