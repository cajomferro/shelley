#    {'device': {'name': 'DeskLamp', 'events': ['level1', 'level2', 'standby1', 'standby2'],
#                'behavior': [['begin', 'level1'], ['level1', 'level2']],
#                'components': {'ledA': 'Led', 'ledB': 'Led', 'b': 'Button', 't': 'Timer'}, 'trigger': {
#            'standby1': [{'xor': [['b.press', 'b.release', 't.cancelled'], 't.timeout']},
#                         {'xor': [['ledA.off', 'ledB.off'], ['ledB.off', 'ledA.of']]}]}}}

device:
  name: DeskLamp
  start_events: [level1]
  behavior:
    - [level1, standby1]
    - [level1, level2]
    - [level2, standby2]
    - [standby1, level1]
    - [standby2, level1]
  components:
    ledA: Led
    ledB: Led
    b: Button
    t: Timer
  events:
    level1:
        start: True
        micro: [b.release, b.press, ledA.on, t.start] # THIS IS WRONG
    level2:
        micro:
          - b.press
          - b.release
          - xor:
              - [t.cancel, ledB.on]
              - [ledB.on, t.cancel]
          - t.start
    standby1:
        micro: [t.timeout, ledA.off]
    standby2:
        micro:
          - xor:
              - [b.press, b.release, t.cancel]
              - t.timeout
          - xor:
              - [ledB.off, ledA.off]
              - [ledA.off, ledB.off]
