device:
  name: SmartButton
  behavior:
    - [single, single]
    - [single, double]
    - [single, long]
    - [double, double]
    - [double, single]
    - [double, long]
    - [long, long]
    - [long, double]
    - [long, single]
  components:
    b: PressedButton
    t: Timer
  events:
    single:
        start: True
        micro: [b.in, t.start, b.out, t.cancel, t.start, t.timeout]
    double:
        start: True
        micro:
          - [ b.in, t.start, b.out, t.cancel, t.start, b.in]
          - xor:
              - [t.cancel, b.out]
              - [b.out, t.cancel]
    long:
        start: True
        micro: [b.in, t.start, t.timeout, b.out]