device:
    name: Controller
    components:
        r: TrafficController
        g: TrafficController
    events:
    - init:
        start: true
        final: false
        micro: [g.halt]
    - step1:
        start: false
        final: true
        micro:
            xor:
            - seq: [r.run, g.halt]
            - seq: [g.halt, r.run]
    - step2:
        start: false
        final: true
        micro:
            xor:
            - seq: [r.halt, g.run]
            - seq: [g.run, r.halt]
    - police:
        start: false
        final: true
        micro:
            xor:
            - seq: [r.police, g.police]
            - seq: [g.police, r.police]

    behavior:
    - [init, step2]
    - [step1, step2]
    - [step2, step1]
    - [police, police]
    - [police, step1]
    - [step2, police]
