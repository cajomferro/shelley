A controller with less operations. `update_ok`goes inside `try_update`.

`Plan` has been removed.