name: SmartButton
components:
    b: PressedButton
    t: Timer
operations:
    single:
        next: $ANY
        start: True
        micro: [b.in, t.start, b.out, t.cancel, t.start, t.timeout]
    double:
        next: $ANY
        start: True
        micro:
          - [ b.in, t.start, b.out, t.cancel, t.start, b.in]
          - xor:
              - [t.cancel, b.out]
              - [b.out, t.cancel]
    long:
        next: $ANY
        start: True
        micro: [b.in, t.start, t.timeout, b.out]