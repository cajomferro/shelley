device:
  name: TrafficLightCtrl
  events:
    toggle_red : {start: false}
    display_red : {start: true}
    toggle_yellow : {start: false}
    display_yellow : {start: false}
    toggle_green : {start: false}
    display_green : {start: false}
    police_on : {start: false}
    police_off : {start: false}
    display_byellow : {start: false}
    display_black : {start: false}
    BlinkingYellowTimeout3 : {start: false}
    BlackTimeout4 : {start: false}
  behavior:
    # normal
    - [toggle_yellow, display_yellow]
    - [display_yellow, toggle_red]
    - [toggle_red, display_red]
    - [display_red, toggle_green]
    - [toggle_green, display_green]
    - [display_green, toggle_yellow]
    # normal to interrupted
    - [display_red, police_on]
    - [display_yellow, police_on]
    - [display_green, police_on]
    - [police_on, display_byellow]
    #  interrupted
    - [display_byellow, BlackTimeout4]
    - [BlackTimeout4, display_black]
    - [display_black, BlinkingYellowTimeout3]
    - [BlinkingYellowTimeout3, display_byellow]
    # interrupted to normal
    - [BlinkingYellowTimeout3, police_off]
    - [BlackTimeout4, police_off]
    - [police_off, display_red]