# https://docs.python.org/3.3/library/http.client.html
name: HTTPClient
operations:
    connected:
        next: [get, post, connect_failed, disconnected]
        start: True
        final: False
    connect_failed:
        next: [connected, connect_failed]
        start: True
        final: True
    get:
        next: [response200, response404, response401, response500, disconnected]
        start: False
        final: False
    post:
        next: [response200, response404, response401, response500, disconnected]
        start: False
        final: False
    response200:
        next: [get, post, disconnected]
        start: False
        final: False
    response401:
        next: [get, post, disconnected]
        start: False
        final: False
    response404:
        next: [get, post, disconnected]
        start: False
        final: False
    response500:
        next: [get, post, disconnected]
        start: False
        final: False
    disconnected:
        next: [connected, connect_failed, disconnected]
        start: False
        final: True

test_system:
  ok:
    connect_failed: [connected, connect_failed]
    connect_failed_start: [connect_failed]
    getok: [connected, get, response200, disconnected]
    connect_failed_getok: [connect_failed, connected, get, response200, disconnected]
    postok: [connected, post, response200, disconnected]
    get2x: [connected, get, response404, get, response200, disconnected]
  fail:
    invalid1: [get]
    invalid2: [post]
    invalid3: [response200]
    invalid4: [response404]
    invalid5: [response500]
    invalid6: [disconnected]
    get2x_noresponse: [connected, get, get, response200, disconnected] # response200 missing
    get2x_nodisconnected: [connected, get, response404, get, response200] # response200 is not final state, disconnected missing
    invalid_final: [connected]
    empty: []